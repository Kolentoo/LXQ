(function(){var r,t,i=function(i,r){var v,w,b;if(typeof document.addEventListener=="function"||n.isIE8()){v=!1;try{v=i instanceof Element}catch(ft){v=!!i&&v.nodeType===1}v||typeof i=="string"||(r=i);var e=this,s=e.classes,o=e.settings=n.merge(e.defaults,{attachTo:i},r||{}),y=e.container=n.make("div",{"class":s.container}),ut=e.calendars=[],k=t().day(o.weekStart),d,g=[],c,l,nt,tt,it,p=[],rt,h=0,a=o.months;for(n.isIE8()&&n.addClassName(y,"ie8"),h=7;h--;)g.push(k.format(o.columnHeaderFormat)),k.add("days",1);if(f(e),typeof o.subscribe=="object")for(h in o.subscribe)o.subscribe.hasOwnProperty(h)&&e.subscribe(h,o.subscribe[h]);for(e._sel=[],!o.selected||e.setSelected(o.selected,!1),d=o.viewStartDate?t(o.viewStartDate,o.format):e._sel.length>0?t(e._sel[0]):t(),e.viewStartDate=d.date(1),w={past:o.months-1,"today-past":o.months-1,any:o.months>2?Math.floor(o.months/2):0,"today-future":0,future:0}[this.settings.direction],w&&t().month()==t(e.viewStartDate).month()&&(e.viewStartDate=t(e.viewStartDate).subtract({M:w}).date(1)),typeof o.blackout=="function"?e.blackout=o.blackout:o.blackout?(b=u(o.blackout,o.parseSplitDelimiter,o.format),e.blackout=function(n){if(n=t(n).yearDay(),n<1||!e._sel)return!1;for(var i=b.length;i--;)if(b[i].yearDay()===n)return!0;return!1}):e.blackout=function(){return!1},e.direction=e.directions[o.direction]?e.directions[o.direction]:e.directions.any,a=Math.max(o.months,1);a--;){c=n.make("div",{"class":s.calendar},y);c.setAttribute("data-cal-index",a);o.months>1&&(a==Math.max(o.months-1,1)?n.addClassName(c,s.monthFirst):a===0?n.addClassName(c,s.monthLast):n.addClassName(c,s.monthMiddle));l=n.make("div",{"class":s.title},c);o.useYearNav||n.addClassName(l,s.disableYearNav);n.make("a",{"class":s.previousYear},l);n.make("a",{"class":s.previousMonth},l);n.make("a",{"class":s.nextYear},l);n.make("a",{"class":s.nextMonth},l);nt=n.make("span",{"class":s.caption},l);tt=n.make("div",{"class":s.header},c);h=0;do rt=n.make("span",{},tt),rt.innerHTML=g[h];while(++h<7);for(it=n.make("div",{"class":s.days},c),h=0,p=[];h++<42;)p.push(n.make("span",{},it));ut.push({caption:nt,days:p});a&&n.make("div",{"class":s.monthSeparator},y)}e.draw();n.addEvent(y,"mousedown",function(i,r){var u;if(n.hasClassName(r,s.nextMonth))return e.disableNext||e.publish("view-changed",e,["next-month"])===!1||(e.viewStartDate.add("months",1),e.draw()),!1;if(n.hasClassName(r,s.previousMonth))return e.disablePreviousMonth||e.publish("view-changed",e,["previous-month"])===!1||(e.viewStartDate.subtract("months",1),e.draw()),!1;if(n.hasClassName(r,s.nextYear))return e.disableNext||e.publish("view-changed",e,["next-year"])===!1||(e.viewStartDate.add("years",1),e.draw()),!1;if(n.hasClassName(r,s.previousYear))return e.disablePreviousMonth||e.publish("view-changed",e,["previous-year"])===!1||(e.viewStartDate.subtract("years",1),e.draw()),!1;if(n.hasClassName(r.parentNode,s.days)&&n.hasClassName(r,s.dayActive)&&(u=r.getAttribute("data-date"))){if(u=t(u,o.dayAttributeFormat).hours(12),e.publish("date-clicked",e,[u])!==!1)switch(o.mode){case"multiple":e.addSelected(u)||e.removeSelected(u);break;case"range":e.addSelected(u);break;case"single":default:e.addSelected(u)}return!1}return!1});!(o.attachTo=n.$(o.attachTo))||o.attachTo.appendChild(y)}},u,n,f;if(i.prototype={defaults:{attachTo:null,months:1,weekStart:0,direction:"any",directionScrolling:!0,viewStartDate:null,blackout:null,selected:null,mode:"single",dayOutOfMonthClickable:!1,format:null,subscribe:null,columnHeaderFormat:"dd",titleFormat:"MMMM, YYYY",dayNumberFormat:"D",dayAttributeFormat:"YYYY-MM-DD",parseSplitDelimiter:/,\s*|\s+-\s+/,rangeDelimiter:" - ",multipleDelimiter:", ",useYearNav:!0,dateClassMap:{}},classes:{container:"kalendae",calendar:"k-calendar",monthFirst:"k-first-month",monthMiddle:"k-middle-month",monthLast:"k-last-month",title:"k-title",previousMonth:"k-btn-previous-month",nextMonth:"k-btn-next-month",previousYear:"k-btn-previous-year",nextYear:"k-btn-next-year",caption:"k-caption",header:"k-header",days:"k-days",dayOutOfMonth:"k-out-of-month",dayInMonth:"k-in-month",dayActive:"k-active",daySelected:"k-selected",dayInRange:"k-range",dayToday:"k-today",monthSeparator:"k-separator",disablePreviousMonth:"k-disable-previous-month-btn",disableNextMonth:"k-disable-next-month-btn",disablePreviousYear:"k-disable-previous-year-btn",disableNextYear:"k-disable-next-year-btn",disableYearNav:"k-disable-year-nav"},disablePreviousMonth:!1,disableNextMonth:!1,disablePreviousYear:!1,disableNextYear:!1,directions:{past:function(n){return t(n).yearDay()>=r.yearDay()},"today-past":function(n){return t(n).yearDay()>r.yearDay()},any:function(){return!1},"today-future":function(n){return t(n).yearDay()<r.yearDay()},future:function(n){return t(n).yearDay()<=r.yearDay()}},getSelectedAsDates:function(){for(var t=[],n=0,i=this._sel.length;n<i;n++)t.push(this._sel[n].toDate());return t},getSelectedAsText:function(n){for(var i=[],t=0,r=this._sel.length;t<r;t++)i.push(this._sel[t].format(n||this.settings.format||"YYYY-MM-DD"));return i},getSelectedRaw:function(){for(var i=[],n=0,r=this._sel.length;n<r;n++)i.push(t(this._sel[n]));return i},getSelected:function(n){var t=this.getSelectedAsText(n);switch(this.settings.mode){case"range":return t.splice(2),t.join(this.settings.rangeDelimiter);case"multiple":return t.join(this.settings.multipleDelimiter);case"single":default:return t[0]}},isSelected:function(n){var i,r,u;if(n=t(n).yearDay(),n<1||!this._sel||this._sel.length<1)return!1;switch(this.settings.mode){case"range":return(i=this._sel[0]?this._sel[0].yearDay():0,r=this._sel[1]?this._sel[1].yearDay():0,i===n||r===n)?1:!i||!r?0:n>i&&n<r||i<r&&n<i&&n>r?-1:!1;case"multiple":for(u=this._sel.length;u--;)if(this._sel[u].yearDay()===n)return!0;return!1;case"single":default:return this._sel[0]&&this._sel[0].yearDay()===n}return!1},setSelected:function(n,t){for(var r=u(n,this.settings.parseSplitDelimiter,this.settings.format),f=u(this.getSelected(),this.settings.parseSplitDelimiter,this.settings.format),i=f.length;i--;)this.removeSelected(f[i],t);for(i=r.length;i--;)this.addSelected(r[i],t);t!==!1&&this.draw()},addSelected:function(n,i){n=t(n,this.settings.format).hours(12);this.settings.dayOutOfMonthClickable&&this.settings.mode!=="range"&&this.makeSelectedDateVisible(n);switch(this.settings.mode){case"multiple":if(this.isSelected(n))return!1;this._sel.push(n);break;case"range":this._sel.length!==1?this._sel=[n]:n.yearDay()>this._sel[0].yearDay()?this._sel[1]=n:this._sel=[n,this._sel[0]];break;case"single":default:this._sel=[n]}return this._sel.sort(function(n,t){return n.yearDay()-t.yearDay()}),this.publish("change",this,[n]),i!==!1&&this.draw(),!0},makeSelectedDateVisible:function(n){outOfViewMonth=t(n).date("1").diff(this.viewStartDate,"months");outOfViewMonth<0?this.viewStartDate.subtract("months",1):outOfViewMonth>0&&outOfViewMonth>=this.settings.months&&this.viewStartDate.add("months",1)},removeSelected:function(n,i){n=t(n,this.settings.format).hours(12);for(var r=this._sel.length;r--;)if(this._sel[r].yearDay()===n.yearDay())return this._sel.splice(r,1),this.publish("change",this,[n]),i!==!1&&this.draw(),!0;return!1},draw:function(){var e=t(this.viewStartDate).hours(12),f,i=this.classes,a,h,o,y=0,p,v=0,c,l,u=this.settings,s;p=this.calendars.length;do{f=t(e).date(1);f.day(f.day()<this.settings.weekStart?this.settings.weekStart-7:this.settings.weekStart);a=this.calendars[y];a.caption.innerHTML=e.format(this.settings.titleFormat);v=0;do h=a.days[v],o=[],c=this.isSelected(f),c&&o.push({"-1":i.dayInRange,"1":i.daySelected,"true":i.daySelected}[c]),f.month()!=e.month()?o.push(i.dayOutOfMonth):o.push(i.dayInMonth),(!(this.blackout(f)||this.direction(f)||f.month()!=e.month()&&u.dayOutOfMonthClickable===!1)||c>0)&&o.push(i.dayActive),f.yearDay()===r.yearDay()&&o.push(i.dayToday),l=f.format(this.settings.dayAttributeFormat),u.dateClassMap[l]&&o.push(u.dateClassMap[l]),h.innerHTML=f.format(u.dayNumberFormat),h.className=o.join(" "),h.setAttribute("data-date",l),f.add("days",1);while(++v<42);e.add("months",1)}while(++y<p);u.directionScrolling&&(u.direction==="today-past"||u.direction==="past"?(s=e.add({m:1}).diff(t(),"months",!0),s<=0?(this.disableNextMonth=!1,n.removeClassName(this.container,i.disableNextMonth)):(this.disableNextMonth=!0,n.addClassName(this.container,i.disableNextMonth))):(u.direction==="today-future"||u.direction==="future")&&(s=e.subtract({m:1}).diff(t(),"months",!0),s>u.months?(this.disablePreviousMonth=!1,n.removeClassName(this.container,i.disablePreviousMonth)):(this.disablePreviousMonth=!0,n.addClassName(this.container,i.disablePreviousMonth))),u.direction==="today-past"||u.direction==="past"?(s=e.add({m:12}).diff(t(),"months",!0),s<=-11?(this.disableNextYear=!1,n.removeClassName(this.container,i.disableNextYear)):(this.disableNextYear=!0,n.addClassName(this.container,i.disableNextYear))):(u.direction==="today-future"||u.direction==="future")&&(s=e.subtract({m:12}).diff(t(),"months",!0),s>11+u.months?(this.disablePreviousYear=!1,n.removeClassName(this.container,i.disablePreviousYear)):(this.disablePreviousYear=!0,n.addClassName(this.container,i.disablePreviousYear))))}},u=function(i,r,u){var e=[],o,f;typeof i=="string"?i=i.split(r):n.isArray(i)||(i=[i]);o=i.length;f=0;do i[f]&&e.push(t(i[f],u).hours(12));while(++f<o);return e},window.Kalendae=i,n=i.util={isIE8:function(){return!!(/msie 8./i.test(navigator.appVersion)&&!/opera/i.test(navigator.userAgent)&&window.ActiveXObject&&XDomainRequest&&!window.msPerformance)},$:function(n){return typeof n=="string"?document.getElementById(n):n},$$:function(n){return!document.querySelectorAll&&!!window.jQuery?window.jQuery(n).get():document.querySelectorAll(n)},make:function(n,t,i){var r,u=document.createElement(n);if(!!t)for(r in t)t.hasOwnProperty(r)&&u.setAttribute(r,t[r]);return!i||i.appendChild(u),u},isVisible:function(n){return n.offsetWidth>0||n.offsetHeight>0},getStyle:function(n,t){var i;return n.currentStyle?i=n.currentStyle[t]:window.getComputedStyle&&(i=window.getComputedStyle(n,null)[t]),i},domReady:function(t){/in/.test(document.readyState)?setTimeout(function(){n.domReady(t)},9):t()},addEvent:function(n,t,i){var r=function(t){t=t||window.event;var u=t.target||t.srcElement,r=i.apply(n,[t,u]);return r===!1&&(t.preventDefault?t.preventDefault():(t.returnValue=!1,t.cancelBubble=!0)),r};return n.attachEvent?n.attachEvent("on"+t,r):n.addEventListener(t,r,!1),r},removeEvent:function(n,t,i){n.detachEvent?n.detachEvent("on"+t,i):n.removeEventListener(t,i,!1)},hasClassName:function(t,i){if(!(t=n.$(t)))return!1;var r=t.className;return r.length>0&&(r==i||new RegExp("(^|\\s)"+i+"(\\s|$)").test(r))},addClassName:function(t,i){(t=n.$(t))&&(n.hasClassName(t,i)||(t.className+=(t.className?" ":"")+i))},removeClassName:function(t,i){(t=n.$(t))&&(t.className=n.trimString(t.className.replace(new RegExp("(^|\\s+)"+i+"(\\s+|$)")," ")))},isFixed:function(t){do if(n.getStyle(t,"position")==="fixed")return!0;while(t=t.offsetParent);return!1},scrollContainer:function(t){do{var i=n.getStyle(t,"overflow");if(i==="auto"||i==="scroll")return t}while((t=t.parentNode)&&t!=window.document.body);return null},getPosition:function(n,t){var r=n.offsetLeft,u=n.offsetTop,i={};if(!t)while(n=n.offsetParent)r+=n.offsetLeft,u+=n.offsetTop;return i[0]=i.left=r,i[1]=i.top=u,i},getHeight:function(n){return n.offsetHeight||n.scrollHeight},getWidth:function(n){return n.offsetWidth||n.scrollWidth},trimString:function(n){return n.replace(/^\s+/,"").replace(/\s+$/,"")},merge:function(){for(var t=arguments[0]===!0,i={},n=t?1:0,r=function(n,i){if(typeof i=="object"){for(var r in i)i.hasOwnProperty(r)&&(t&&typeof n[r]=="object"&&typeof i[r]=="object"?_update(n[r],i[r]):n[r]=i[r]);return n}};n<arguments.length;n++)r(i,arguments[n]);return i},isArray:function(n){return Object.prototype.toString.call(n)=="[object Array]"}},typeof document.addEventListener=="function"&&i.util.domReady(function(){for(var f=n.$$(".auto-kal"),e=f.length,t,u,r;e--;)t=f[e],r=t.getAttribute("data-kal"),u=r==null||r==""?{}:new Function("return {"+r+"};")(),t.tagName==="INPUT"?new i.Input(t,u):new i(n.merge(u,{attachTo:t}))}),i.Input=function(t,r){var u,c,l,s,o,h;if(typeof document.addEventListener=="function"||n.isIE8()){if(u=this.input=n.$(t),!u||u.tagName!=="INPUT")throw"First argument for Kalendae.Input must be an <input> element or a valid element id.";var f=this,a=f.classes,e=f.settings=n.merge(f.defaults,r);e.attachTo=window.document.body;e.selected?c=!0:e.selected=u.value;i.call(f,e);e.closeButton&&(l=n.make("a",{"class":a.closeButton},f.container),n.addEvent(l,"click",function(){u.blur()}));c&&(u.value=f.getSelected());s=f.container;o=!1;s.style.display="none";n.addClassName(s,a.positioned);n.addEvent(s,"mousedown",function(){o=!0});n.addEvent(window.document,"mousedown",function(){o=!1});n.addEvent(u,"focus",function(){f.setSelected(this.value);f.show()});n.addEvent(u,"blur",function(){o&&n.isIE8()?(o=!1,u.focus()):f.hide()});n.addEvent(u,"keyup",function(){f.setSelected(this.value)});h=n.scrollContainer(u);h&&n.addEvent(h,"scroll",function(){u.blur()});f.subscribe("change",function(){u.value=f.getSelected()})}},i.Input.prototype=n.merge(i.prototype,{defaults:n.merge(i.prototype.defaults,{format:"YYYY-MM-DD",side:"bottom",closeButton:!0,offsetLeft:0,offsetTop:0}),classes:n.merge(i.prototype.classes,{positioned:"k-floating",closeButton:"k-btn-close"}),show:function(){var e=this.container,t=e.style,u=this.input,i=n.getPosition(u),o=n.scrollContainer(u),f=o?o.scrollTop:0,r=this.settings;t.display="";switch(r.side){case"left":t.left=i.left-n.getWidth(e)+r.offsetLeft+"px";t.top=i.top+r.offsetTop-f+"px";break;case"right":t.left=i.left+n.getWidth(u)+"px";t.top=i.top+r.offsetTop-f+"px";break;case"top":t.left=i.left+r.offsetLeft+"px";t.top=i.top-n.getHeight(e)+r.offsetTop-f+"px";break;case"bottom":default:t.left=i.left+r.offsetLeft+"px";t.top=i.top+n.getHeight(u)+r.offsetTop-f+"px"}t.position=n.isFixed(u)?"fixed":"absolute";this.publish("show",this)},hide:function(){this.container.style.display="none";this.publish("hide",this)}}),f=function(n){n||(n=this);var t=n.c_||{};n.publish=function(n,i,r){for(var u=t[n],e=u?u.length:0,f;e--;)if(f=u[e].apply(i,r||[]),typeof f=="boolean")return f};n.subscribe=function(n,i,r){return t[n]||(t[n]=[]),r?t[n].push(i):t[n].unshift(i),[n,i]};n.unsubscribe=function(n){for(var i=t[n[0]],u=n[1],r=i?i.length:0;r--;)i[r]===u&&i.splice(r,1)}},function(n){function tt(n,t){return function(i){return u(n.call(this,i),t)}}function ii(n){return function(t){return this.lang().ordinal(n.call(this,t))}}function it(){}function h(n){c(this,n)}function y(n){var t=this._data={},s=n.years||n.year||n.y||0,r=n.months||n.month||n.M||0,c=n.weeks||n.week||n.w||0,i=n.days||n.day||n.d||0,u=n.hours||n.hour||n.h||0,e=n.minutes||n.minute||n.m||0,o=n.seconds||n.second||n.s||0,h=n.milliseconds||n.millisecond||n.ms||0;this._milliseconds=h+o*1e3+e*6e4+u*36e5;this._days=i+c*7;this._months=r+s*12;t.milliseconds=h%1e3;o+=f(h/1e3);t.seconds=o%60;e+=f(o/60);t.minutes=e%60;u+=f(e/60);t.hours=u%24;i+=f(u/24);i+=c*7;t.days=i%30;r+=f(i/30);t.months=r%12;s+=f(r/12);t.years=s}function c(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function f(n){return n<0?Math.ceil(n):Math.floor(n)}function u(n,t){for(var i=n+"";i.length<t;)i="0"+i;return i}function rt(n,t,i){var r=t._milliseconds,u=t._days,f=t._months,e;r&&n._d.setTime(+n+r*i);u&&n.date(n.date()+u*i);f&&(e=n.date(),n.date(1).month(n.month()+f*i).date(Math.min(e,n.daysInMonth())))}function ut(n){return Object.prototype.toString.call(n)==="[object Array]"}function ft(n,t){for(var u=Math.min(n.length,t.length),f=Math.abs(n.length-t.length),r=0,i=0;i<u;i++)~~n[i]!=~~t[i]&&r++;return r+f}function ri(n,t){return t.abbr=n,o[n]||(o[n]=new it),o[n].set(t),o[n]}function s(n){return n?(!o[n]&&lt&&require("./lang/"+n),o[n]):t.fn._lang}function ui(n){return n.match(/\[.*\]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function fi(n){for(var i=n.match(w),t=0,u=i.length;t<u;t++)i[t]=r[i[t]]?r[i[t]]:ui(i[t]);return function(r){var f="";for(t=0;t<u;t++)f+=typeof i[t].call=="function"?i[t].call(r,n):i[t];return f}}function ei(n,t){function r(t){return n.lang().longDateFormat(t)||t}for(var i=5;i--&&b.test(t);)t=t.replace(b,r);return v[t]||(v[t]=fi(t)),v[t](n)}function oi(n){switch(n){case"DDDD":return pt;case"YYYY":return wt;case"YYYYY":return bt;case"S":case"SS":case"SSS":case"DDD":return yt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":case"a":case"A":return kt;case"X":return gt;case"Z":case"ZZ":return k;case"T":return dt;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return vt;default:return new RegExp(n.replace("\\",""))}}function si(n,t,i){var r,u=i._a;switch(n){case"M":case"MM":u[1]=t==null?0:~~t-1;break;case"MMM":case"MMMM":r=s(i._l).monthsParse(t);r!=null?u[1]=r:i._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":t!=null&&(u[2]=~~t);break;case"YY":u[0]=~~t+(~~t>68?1900:2e3);break;case"YYYY":case"YYYYY":u[0]=~~t;break;case"a":case"A":i._isPm=(t+"").toLowerCase()==="pm";break;case"H":case"HH":case"h":case"hh":u[3]=~~t;break;case"m":case"mm":u[4]=~~t;break;case"s":case"ss":u[5]=~~t;break;case"S":case"SS":case"SSS":u[6]=~~(("0."+t)*1e3);break;case"X":i._d=new Date(parseFloat(t)*1e3);break;case"Z":case"ZZ":i._useUTC=!0;r=(t+"").match(ti);r&&r[1]&&(i._tzh=~~r[1]);r&&r[2]&&(i._tzm=~~r[2]);r&&r[0]==="+"&&(i._tzh=-i._tzh,i._tzm=-i._tzm)}t==null&&(i._isValid=!1)}function et(n){var i,r,t=[];if(!n._d){for(i=0;i<7;i++)n._a[i]=t[i]=n._a[i]==null?i===2?1:0:n._a[i];t[3]+=n._tzh||0;t[4]+=n._tzm||0;r=new Date(0);n._useUTC?(r.setUTCFullYear(t[0],t[1],t[2]),r.setUTCHours(t[3],t[4],t[5],t[6])):(r.setFullYear(t[0],t[1],t[2]),r.setHours(t[3],t[4],t[5],t[6]));n._d=r}}function p(n){var u=n._f.match(w),f=n._i,t,i;for(n._a=[],t=0;t<u.length;t++)i=(oi(u[t]).exec(f)||[])[0],i&&(f=f.slice(f.indexOf(i)+i.length)),r[u[t]]&&si(u[t],i,n);n._isPm&&n._a[3]<12&&(n._a[3]+=12);n._isPm===!1&&n._a[3]===12&&(n._a[3]=0);et(n)}function hi(n){for(var t,i,r,f=99,u;n._f.length;){if(t=c({},n),t._f=n._f.pop(),p(t),i=new h(t),i.isValid()){r=i;break}u=ft(t._a,i.toArray());u<f&&(f=u,r=i)}c(n,r)}function ci(n){var t,i=n._i;if(ni.exec(i)){for(n._f="YYYY-MM-DDT",t=0;t<4;t++)if(d[t][1].exec(i)){n._f+=d[t][0];break}k.exec(i)&&(n._f+=" Z");p(n)}else n._d=new Date(i)}function li(t){var i=t._i,r=at.exec(i);i===n?t._d=new Date:r?t._d=new Date(+r[1]):typeof i=="string"?ci(t):ut(i)?(t._a=i.slice(0),et(t)):t._d=i instanceof Date?new Date(+i):new Date(i)}function ai(n,t,i,r,u){return u.relativeTime(t||1,!!i,n,r)}function vi(n,t,i){var s=e(Math.abs(n)/1e3),u=e(s/60),f=e(u/60),r=e(f/24),h=e(r/365),o=s<45&&["s",s]||u===1&&["m"]||u<45&&["mm",u]||f===1&&["h"]||f<22&&["hh",f]||r===1&&["d"]||r<=25&&["dd",r]||r<=45&&["M"]||r<345&&["MM",e(r/30)]||h===1&&["y"]||["yy",h];return o[2]=t,o[3]=n>0,o[4]=i,ai.apply({},o)}function ot(n,i,r){var f=r-i,u=r-n.day();return u>f&&(u-=7),u<f-7&&(u+=7),Math.ceil(t(n).add("d",u).dayOfYear()/7)}function st(n){var i=n._i,r=n._f;return i===null||i===""?null:(typeof i=="string"&&(n._i=i=s().preparse(i)),t.isMoment(i)?(n=c({},i),n._d=new Date(+i._d)):r?ut(r)?hi(n):p(n):li(n),new h(n))}function ht(n,i){t.fn[n]=t.fn[n+"s"]=function(n){var t=this._isUTC?"UTC":"";return n!=null?(this._d["set"+t+i](n),this):this._d["get"+t+i]()}}function yi(n){t.duration.fn[n]=function(){return this._data[n]}}function ct(n,i){t.duration.fn["as"+n]=function(){return+this/i}}for(var t,e=Math.round,i,o={},lt=typeof module!="undefined"&&module.exports,at=/^\/?Date\((\-?\d+)/i,w=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,b=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,vt=/\d\d?/,yt=/\d{1,3}/,pt=/\d{3}/,wt=/\d{1,4}/,bt=/[+\-]?\d{1,6}/,kt=/[0-9]*[a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF]+\s*?[\u0600-\u06FF]+/i,k=/Z|[\+\-]\d\d:?\d\d/i,dt=/T/i,gt=/[\+\-]?\d+(\.\d{1,3})?/,ni=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,d=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ti=/([\+\-]|\d\d)/gi,l="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),a={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},v={},g="DDD w W M D d".split(" "),nt="M D H h m s w W".split(" "),r={M:function(){return this.month()+1},MMM:function(n){return this.lang().monthsShort(this,n)},MMMM:function(n){return this.lang().months(this,n)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(n){return this.lang().weekdaysMin(this,n)},ddd:function(n){return this.lang().weekdaysShort(this,n)},dddd:function(n){return this.lang().weekdays(this,n)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return u(this.year()%100,2)},YYYY:function(){return u(this.year(),4)},YYYYY:function(){return u(this.year(),5)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return u(~~(this.milliseconds()/10),2)},SSS:function(){return u(this.milliseconds(),3)},Z:function(){var n=-this.zone(),t="+";return n<0&&(n=-n,t="-"),t+u(~~(n/60),2)+":"+u(~~n%60,2)},ZZ:function(){var n=-this.zone(),t="+";return n<0&&(n=-n,t="-"),t+u(~~(10*n/6),4)},X:function(){return this.unix()}};g.length;)i=g.pop(),r[i+"o"]=ii(r[i]);while(nt.length)i=nt.pop(),r[i+i]=tt(r[i],2);for(r.DDDD=tt(r.DDD,3),it.prototype={set:function(n){var t;for(var i in n)t=n[i],typeof t=="function"?this[i]=t:this["_"+i]=t},_months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),months:function(n){return this._months[n.month()]},_monthsShort:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:function(n){return this._monthsShort[n.month()]},monthsParse:function(n){var i,r,u;for(this._monthsParse||(this._monthsParse=[]),i=0;i<12;i++)if(this._monthsParse[i]||(r=t([2e3,i]),u="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(u.replace(".",""),"i")),this._monthsParse[i].test(n))return i},_weekdays:"日_一_二_三_四_五_六".split("_"),weekdays:function(n){return this._weekdays[n.day()]},_weekdaysShort:"日_一_二_三_四_五_六".split("_"),weekdaysShort:function(n){return this._weekdaysShort[n.day()]},_weekdaysMin:"日_一_二_三_四_五_六".split("_"),weekdaysMin:function(n){return this._weekdaysMin[n.day()]},_longDateFormat:{LT:"h:mm A",L:"YYYY-MM-DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(n){var t=this._longDateFormat[n];return!t&&this._longDateFormat[n.toUpperCase()]&&(t=this._longDateFormat[n.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(n){return n.slice(1)}),this._longDateFormat[n]=t),t},meridiem:function(n,t,i){return n>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},calendar:function(n,t){var i=this._calendar[n];return typeof i=="function"?i.apply(t):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(n,t,i,r){var u=this._relativeTime[i];return typeof u=="function"?u(n,t,i,r):u.replace(/%d/i,n)},pastFuture:function(n,t){var i=this._relativeTime[n>0?"future":"past"];return typeof i=="function"?i(t):i.replace(/%s/i,t)},ordinal:function(n){return this._ordinal.replace("%d",n)},_ordinal:"%d",preparse:function(n){return n},postformat:function(n){return n},week:function(n){return ot(n,this._week.dow,this._week.doy)},_week:{dow:0,doy:6}},t=function(n,t,i){return st({_i:n,_f:t,_l:i,_isUTC:!1})},t.utc=function(n,t,i){return st({_useUTC:!0,_isUTC:!0,_l:i,_i:n,_f:t})},t.unix=function(n){return t(n*1e3)},t.duration=function(n,i){var f=t.isDuration(n),e=typeof n=="number",r=f?n._data:e?{}:n,u;return e&&(i?r[i]=n:r.milliseconds=n),u=new y(r),f&&n.hasOwnProperty("_lang")&&(u._lang=n._lang),u},t.version="2.0.0",t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.lang=function(n,i){if(!n)return t.fn._lang._abbr;i?ri(n,i):o[n]||s(n);t.duration.fn._lang=t.fn._lang=s(n)},t.langData=function(n){return n&&n._lang&&n._lang._abbr&&(n=n._lang._abbr),s(n)},t.isMoment=function(n){return n instanceof h},t.isDuration=function(n){return n instanceof y},t.fn=h.prototype={clone:function(){return t(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._d},toJSON:function(){return t.utc(this).format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var n=this;return[n.year(),n.month(),n.date(),n.hours(),n.minutes(),n.seconds(),n.milliseconds()]},isValid:function(){return this._isValid==null&&(this._isValid=this._a?!ft(this._a,(this._isUTC?t.utc(this._a):t(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(n){var i=ei(this,n||t.defaultFormat);return this.lang().postformat(i)},add:function(n,i){var r;return r=typeof n=="string"?t.duration(+i,n):t.duration(n,i),rt(this,r,1),this},subtract:function(n,i){var r;return r=typeof n=="string"?t.duration(+i,n):t.duration(n,i),rt(this,r,-1),this},diff:function(n,i,r){var e=this._isUTC?t(n).utc():t(n).local(),s=(this.zone()-e.zone())*6e4,u,o;return i&&(i=i.replace(/s$/,"")),i==="year"||i==="month"?(u=(this.daysInMonth()+e.daysInMonth())*432e5,o=(this.year()-e.year())*12+(this.month()-e.month()),o+=(this-t(this).startOf("month")-(e-t(e).startOf("month")))/u,i==="year"&&(o=o/12)):(u=this-e-s,o=i==="second"?u/1e3:i==="minute"?u/6e4:i==="hour"?u/36e5:i==="day"?u/864e5:i==="week"?u/6048e5:u),r?o:f(o)},from:function(n,i){return t.duration(this.diff(n)).lang(this.lang()._abbr).humanize(!i)},fromNow:function(n){return this.from(t(),n)},calendar:function(){var n=this.diff(t().startOf("day"),"days",!0),i=n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(i,this))},isLeapYear:function(){var n=this.year();return n%4==0&&n%100!=0||n%400==0},isDST:function(){return this.zone()<t([this.year()]).zone()||this.zone()<t([this.year(),5]).zone()},day:function(n){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return n==null?t:this.add({d:n-t})},startOf:function(n){n=n.replace(/s$/,"");switch(n){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return n==="week"&&this.day(0),this},endOf:function(n){return this.startOf(n).add(n.replace(/s?$/,"s"),1).subtract("ms",1)},isAfter:function(n,i){return i=typeof i!="undefined"?i:"millisecond",+this.clone().startOf(i)>+t(n).startOf(i)},isBefore:function(n,i){return i=typeof i!="undefined"?i:"millisecond",+this.clone().startOf(i)<+t(n).startOf(i)},isSame:function(n,i){return i=typeof i!="undefined"?i:"millisecond",+this.clone().startOf(i)==+t(n).startOf(i)},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return t.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(n){var i=e((t(this).startOf("day")-t(this).startOf("year"))/864e5)+1;return n==null?i:this.add("d",n-i)},isoWeek:function(n){var t=ot(this,1,4);return n==null?t:this.add("d",(n-t)*7)},week:function(n){var t=this.lang().week(this);return n==null?t:this.add("d",(n-t)*7)},lang:function(t){return t===n?this._lang:(this._lang=s(t),this)}},i=0;i<l.length;i++)ht(l[i].toLowerCase().replace(/s$/,""),l[i]);ht("year","FullYear");t.fn.days=t.fn.day;t.fn.weeks=t.fn.week;t.fn.isoWeeks=t.fn.isoWeek;t.duration.fn=y.prototype={weeks:function(){return f(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months*2592e6},humanize:function(n){var i=+this,t=vi(i,!n,this.lang());return n&&(t=this.lang().pastFuture(i,t)),this.lang().postformat(t)},lang:t.fn.lang};for(i in a)a.hasOwnProperty(i)&&(ct(i,a[i]),yi(i.toLowerCase()));ct("Weeks",6048e5);t.lang("en",{ordinal:function(n){var t=n%10,i=~~(n%100/10)==1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return n+i}});this.moment=t}.call(typeof i=="undefined"?window:i),!i.moment)if(window.moment)i.moment=window.moment;else throw"Kalendae requires moment.js. You must use kalendae.standalone.js if moment is not available on the page.";t=i.moment;t.fn.stripTime=function(){return this._d=new Date(Math.floor(this._d.valueOf()/864e5)*864e5),this};t.fn.yearDay=function(n){var t=Math.floor(this._d/864e5);return typeof n=="undefined"?t:this.add({d:n-t})};r=i.moment().stripTime();typeof jQuery!="undefined"&&(typeof document.addEventListener=="function"||n.isIE8())&&(jQuery.fn.kalendae=function(n){return this.each(function(t,r){r.tagName==="INPUT"?$(r).data("kalendae",new i.Input(r,n)):$(r).data("kalendae",new i($.extend({},{attachTo:r},n)))}),this})})();
/*
//# sourceMappingURL=kalendae.standalone.min.js.map
*/