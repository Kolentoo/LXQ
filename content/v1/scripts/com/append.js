/*! uzai - v0.1.11 - 2017 */

function txt(){console.log(111)}$(function(){uzai_hotclick={init:function(){var a=this;a.appcss(),a.getusername()?a.loginInit():($("body").append(a._loginhtml()),a.bindLoginEvent())},_loginhtml:function(){var a=[];return a.push('<div class="hot_click_box">'),a.push('<div class="title">'),a.push("<h3>用户登录</h3>"),a.push('<a href="javascript:;" title="关闭" class="hot_click_close">X</a>'),a.push("</div>"),a.push('<div class="con">'),a.push('<div class="selform"><label>帐号：</label><input class="txt" id="hot_click_iname" type="text" /></div>'),a.push('<div class="selform"><label>密码：</label><input class="txt" id="hot_click_ipsd" type="password" /></div>'),a.push('<div class="selform"><label></label><input type="button" class="huitubtn" id="hot_click_login" value="登录" /></label></div>'),a.push('<div class="selform">'),a.push('<div class="tip">注：账号、密码为网站后台账号和密码。</div>'),a.push("</div>"),a.push("</div>"),a.push("</div>"),a.join("")},_gethtml:function(){if(!$("body").find(".hot_click_box").length){var a="";window.__hotclick||(a="<span style='color:#f00;'>(该页还未部署！)</span>");var b=[];return b.push('<div class="hot_click_box">'),b.push('<div class="title"><h3>点击图参数设置</h3><a href="javascript:;" title="关闭" class="hot_click_close">X</a></div>'),b.push('<div class="con">'),b.push('<div class="selform"><label>选择时间：</label><input  id="J_hot_start" class="time"  readonly /> - <input id="J_hot_end" onfocus="WdatePicker();" readonly   class="time" /></div>'),b.push('<div class="selform"><label></label><input type="button" class="huitubtn" id="hot_click_show" value="绘图" />'),b.push("</div>"),b.push('<div class="hot_click_bortop">已经部署页面：'+a+"</div>"),b.push('<ul class="hot_click_ulpage fn-clear">'),b.push('<li><label><a href="//www.uzai.com">WWW首页</a></label></li><li><label><a href="//sh.uzai.com">SH首页</a></label></li>'),b.push('<li><label><a href="//bj.uzai.com">BJ首页</a></label></li><li><label><a href="//sh.uzai.com/outbound/">SH出境游</a></label></li>'),b.push('<li><label><a href="//bj.uzai.com/outbound/">BJ出境游</a></label></li><li><label><a href="//sh.uzai.com/lvyoucn/">SH国内游</a></label></li>'),b.push('<li><label><a href="//bj.uzai.com/lvyoucn/">BJ国内游</a></label></li><li><label><a href="//sh.uzai.com/neartravel/">SH周边游</a></label></li>'),b.push('<li><label><a href="//bj.uzai.com/neartravel/">BJ周边游</a></label></li><li><label><a href="//www.uzai.com/subject/tejia/">SH特价</a></label></li><li>部分列表页</li>'),b.push("</ul>"),b.push("</div>"),b.push("</div>"),b.join("")}},bindLoginEvent:function(){var a=this;$(".hot_click_close").bind("click",function(){$(".hot_click_box").remove()}),$("#hot_click_login").bind("click",function(){var b=$("#hot_click_iname").val(),c=$("#hot_click_ipsd").val(),d="//aj.uzai.com/hotclike.ashx?type=a&admin="+b+"&pwd="+c;$.ajax({type:"get",url:d,dataType:"jsonp",jsonp:"hotcallback",success:function(c){1==c.res?(a.addusercookie(b),a.loginInit()):alert("帐号密码有误，请确认后再登录！")},error:function(){alert("帐号密码有误，请确认后再登录！")}})})},loginInit:function(){var a=this;$(".hot_click_box").remove(),$("body").append(a._gethtml()),a.bindEvent()},bindEvent:function(){var a=new Date,b=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),c=this;$(".hot_click_close").bind("click",function(){$(".hot_click_box").remove()}),$("#hot_click_show").bind("click",function(){c.drawimg(!1)}),$("#hot_click_history").bind("click",function(){c.showhistory()}),$("#J_hot_start").bind("click",function(){WdatePicker({maxDate:$("#J_hot_end").val()||b})}),$("#J_hot_end").bind("click",function(){WdatePicker({minDate:"2013-01-01",maxDate:b})})},drawimg:function(a){var b=this,c=b.getusername(),d=location.host+location.pathname,e=$("#J_hot_start").val(),f=$("#J_hot_end").val();$(".hotclick_ud").remove(),$("body").append('<div id="hot_win" style=" width:auto; position:fixed; left:0; top:0; bottom:0; right:0; height:auto; display:block; background:url(//r.uzaicdn.com/static/channels/images/wenjun/over.png) repeat; z-index:88887;"><span style="position:fixed; top:200px; left:45%; color:#fff; font-size:16px; "><img src="//r.uzaicdn.com/content/v1/images/common/loading.gif" />数据准备中,请耐心等待...</span></div>');var g="//aj.uzai.com/hotclike.ashx?type=g&url="+d+"&admin="+c+"&startcity="+_ug.cityID+"&begindate="+e+"&enddate="+f,h=function(a){if(a.find(".hotclick_ud").length){var b=parseInt(a.find(".hotclick_ud").text(),10);b=b||0,b+=parseInt(item.num,10),a.find(".hotclick_ud").text(b)}else a.append('<pre class="hotclick_ud" >'+item.num+"</pre>")};$.ajax({type:"get",url:g,dataType:"jsonp",jsonp:"hotcallback",success:function(b){for(var c=0;c<b.length;c++){var d=b[c],e=null;if("body"!=d.o&&"data-seed"!==d.o){var f=$("[data-chunk='"+d.o+"']").find("a[href='"+d.d+"']");1==f.length&&(e=$(f[0])),f.length>1&&(e=$(f[1])),e&&a&&(e.parents(".newBanner-list").length?e.index()>0&&(e=$(e.parents(".newBanner-list").find("a")[1])):e=null),e&&("absolute"!=e.css("position")&&e.css("position","relative"),h(e))}"data-seed"==d.o&&(e=$("[data-seed='"+d.d+"']"),"absolute"!=e.css("position")&&e.css("position","relative"),h(e))}0===b.length&&alert("您没有该页面的权限，或者该时间段内数据不存在，需要开通权限请通过权限申请流程."),$("#hot_win").remove()},error:function(){alert("fail"),$("#hot_win").remove()}})},appcss:function(){var a=document.createElement("link");if(a.type="text/css",a.setAttribute("rel","stylesheet"),a.setAttribute("href","http://r01.uzaicdn.com/content/v1/styles/com/append.css"),document.getElementsByTagName("head")[0].appendChild(a),!window.WdatePicker){var b=document.createElement("script");b.type="text/javascript",b.setAttribute("src","http://r.uzaicdn.com/static/base/my97datepicker/wdatepicker.js"),document.getElementsByTagName("head")[0].appendChild(b)}},addusercookie:function(a){_uzw.cookie.set("heatclick_user",a,1)},loginout:function(){_uzw.cookie.del("heatclick_user")},getusername:function(){return _uzw.cookie.get("heatclick_user")}},uzai_hotclick.init()});
//# sourceMappingURL=/sourcemaps/content/v1/scripts/com/append.js.map