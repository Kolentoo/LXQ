/*! uzai - v0.1.11 - 2016 */
var stepcarousel={ajaxloadingmsg:'<div style="margin: 1em; font-weight: bold"><img src="ajaxloadr.gif" style="vertical-align: middle" /> Fetching Content. Please wait...</div>',defaultbuttonsfade:.4,configholder:{},getCSSValue:function(a){return"auto"==a?0:parseInt(a)},getremotepanels:function(a,b){b.$belt.html(this.ajaxloadingmsg),a.ajax({url:b.contenttype[1],async:!0,error:function(a){b.$belt.html("Error fetching content.<br />Server Response: "+a.responseText)},success:function(c){b.$belt.html(c),b.$panels=b.$gallery.find("."+b.panelclass),stepcarousel.alignpanels(a,b)}})},getoffset:function(a,b){return a.offsetParent?a[b]+this.getoffset(a.offsetParent,b):a[b]},getCookie:function(a){var b=new RegExp(a+"=[^;]+","i");return document.cookie.match(b)?document.cookie.match(b)[0].split("=")[1]:null},setCookie:function(a,b){document.cookie=a+"="+b},fadebuttons:function(a,b){0==b?a.$leftnavbutton.addClass("off"):a.$leftnavbutton.removeClass("off"),b==a.lastvisiblepanel?a.$rightnavbutton.addClass("off"):a.$rightnavbutton.removeClass("off"),b==a.lastvisiblepanel&&stepcarousel.stopautostep(a)},addnavbuttons:function(a,b,c){return b.$leftnavbutton=a("<span class='btn-item prev png off'>&nbsp;</span>").appendTo("#"+b.galleryid+" .carousel-bar-btns"),b.$rightnavbutton=a("<span class='btn-item next png'>&nbsp;</span>").appendTo("#"+b.galleryid+" .carousel-bar-btns"),b.$leftnavbutton.bind("click",function(){stepcarousel.stepBy(b.galleryid,-b.defaultbuttons.moveby)}),b.$rightnavbutton.bind("click",function(){stepcarousel.stepBy(b.galleryid,b.defaultbuttons.moveby)}),0==b.panelbehavior.wraparound&&this.fadebuttons(b,c),b.$leftnavbutton.add(b.$rightnavbutton)},alignpanels:function(a,b){var c=0;b.paneloffsets=[c],b.panelwidths=[],b.$panels.each(function(d){var e=a(this);e.css({"float":"none",position:"absolute",left:c+"px"}),e.bind("click",function(a){return b.onpanelclick(a.target)}),c+=stepcarousel.getCSSValue(e.css("marginRight"))+parseInt(e.get(0).offsetWidth||e.css("width")),b.paneloffsets.push(c),b.panelwidths.push(c-b.paneloffsets[b.paneloffsets.length-2])}),b.paneloffsets.pop();var d=0,e=b.$panels.length-1;b.lastvisiblepanel=e;for(var f=b.$panels.length-1;f>=0;f--)d+=f==e?b.panelwidths[e]:b.paneloffsets[f+1]-b.paneloffsets[f],b.gallerywidth>d&&(b.lastvisiblepanel=f);b.$belt.css({width:c+"px"}),b.currentpanel=b.panelbehavior.persist?parseInt(this.getCookie(b.galleryid+"persist")):0,b.currentpanel="number"==typeof b.currentpanel&&b.currentpanel<b.$panels.length?b.currentpanel:0;var g=b.paneloffsets[b.currentpanel]+(0==b.currentpanel?0:b.beltoffset);if(b.$belt.css({left:-g+"px"}),1==b.defaultbuttons.enable)var h=this.addnavbuttons(a,b,b.currentpanel);if(b.autostep&&b.autostep.enable){var i=b.$gallery.add("undefined"!=typeof h?h:null);i.bind("click",function(){b.autostep.status="stopped",stepcarousel.stopautostep(b)}),i.hover(function(){stepcarousel.stopautostep(b),b.autostep.hoverstate="over"},function(){b.steptimer&&"over"==b.autostep.hoverstate&&"stopped"!=b.autostep.status&&(b.steptimer=setInterval(function(){stepcarousel.autorotate(b.galleryid)},b.autostep.pause),b.autostep.hoverstate="out")}),b.steptimer=setInterval(function(){stepcarousel.autorotate(b.galleryid)},b.autostep.pause)}this.createpaginate(a,b),this.statusreport(b.galleryid),b.oninit(),b.onslideaction(this)},stepTo:function(a,b){var c=stepcarousel.configholder[a];if("undefined"!=typeof c){stepcarousel.stopautostep(c);var b=Math.min(b-1,c.paneloffsets.length-1),d=c.paneloffsets[b]+(0==b?0:c.beltoffset);0==c.panelbehavior.wraparound&&1==c.defaultbuttons.enable&&this.fadebuttons(c,b),c.$belt.animate({left:-d+"px"},c.panelbehavior.speed,function(){c.onslideaction(this)}),c.currentpanel=b,this.statusreport(a)}},stepBy:function(a,b,c){var d=stepcarousel.configholder[a];if("undefined"!=typeof d){c||stepcarousel.stopautostep(d);var e=b>0?"forward":"back",f=d.currentpanel+b;0==d.panelbehavior.wraparound?(f="back"==e&&0>=f?0:"forward"==e?Math.min(f,d.lastvisiblepanel):f,1==d.defaultbuttons.enable&&stepcarousel.fadebuttons(d,f)):f>d.lastvisiblepanel&&"forward"==e?f=d.currentpanel<d.lastvisiblepanel?d.lastvisiblepanel:0:0>f&&"back"==e&&(f=d.currentpanel>0?0:d.lastvisiblepanel);var g=d.paneloffsets[f]+(0==f?0:d.beltoffset);1==d.panelbehavior.wraparound&&"pushpull"==d.panelbehavior.wrapbehavior&&(0==f&&"forward"==e||0==d.currentpanel&&"back"==e)?d.$belt.animate({left:-d.paneloffsets[d.currentpanel]-("forward"==e?100:-30)+"px"},"normal",function(){d.$belt.animate({left:-g+"px"},d.panelbehavior.speed,function(){d.onslideaction(this)})}):d.$belt.animate({left:-g+"px"},d.panelbehavior.speed,function(){d.onslideaction(this)}),d.currentpanel=f,this.statusreport(a)}},autorotate:function(a){var b=stepcarousel.configholder[a];b.$belt.stop(!0,!0),this.stepBy(a,b.autostep.moveby,!0)},stopautostep:function(a){clearTimeout(a.steptimer)},statusreport:function(a){var b=stepcarousel.configholder[a];if(3==b.statusvars.length){for(var c=b.currentpanel,d=0,e=c;e<b.paneloffsets.length&&(d+=b.panelwidths[e],!(d>b.gallerywidth));e++);c+=1,e=e+1==c?c:e;for(var f=[c,e,b.panelwidths.length],g=0;g<b.statusvars.length;g++)window[b.statusvars[g]]=f[g],b.$statusobjs[g].text(f[g]+" ")}stepcarousel.selectpaginate(jQuery,a)},createpaginate:function(a,b){if(1==b.$paginatediv.length){var c=b.$paginatediv.find('img["data-over"]:eq(0)'),d=[],e=[],f=c.attr("data-moveby")||1,g=(1==f?0:1)+Math.floor((b.lastvisiblepanel+1)/f),h=a("<div>").append(c.clone()).html();srcs=[c.attr("src"),c.attr("data-over"),c.attr("data-select")];for(var i=0;g>i;i++){var j=Math.min(i*f,b.lastvisiblepanel);e.push(h.replace(/>$/,' data-index="'+i+'" data-moveto="'+j+'" title="Move to Panel '+(j+1)+'">')+"\n"),d.push(j)}var k=a("<span></span>").replaceAll(c).append(e.join("")).find("img");k.css({cursor:"pointer"}),b.$paginatediv.bind("click",function(c){var d=a(c.target);d.is("img")&&d.attr("data-over")&&stepcarousel.stepTo(b.galleryid,parseInt(d.attr("data-moveto"))+1)}),b.$paginatediv.bind("mouseover mouseout",function(c){var d=a(c.target);d.is("img")&&d.attr("data-over")&&parseInt(d.attr("data-index"))!=b.pageinfo.curselected&&d.attr("src",srcs["mouseover"==c.type?1:0])}),b.pageinfo={controlpoints:d,$controls:k,srcs:srcs,prevselected:null,curselected:null}}},selectpaginate:function(a,b){var c=stepcarousel.configholder[b];if(1==c.$paginatediv.length){for(var d=0;d<c.pageinfo.controlpoints.length;d++)c.pageinfo.controlpoints[d]<=c.currentpanel&&(c.pageinfo.curselected=d);null!=typeof c.pageinfo.prevselected&&c.pageinfo.$controls.eq(c.pageinfo.prevselected).attr("src",c.pageinfo.srcs[0]),c.pageinfo.$controls.eq(c.pageinfo.curselected).attr("src",c.pageinfo.srcs[2]),c.pageinfo.prevselected=c.pageinfo.curselected}},loadcontent:function(a,b){var c=stepcarousel.configholder[a];c.contenttype=["ajax",b],stepcarousel.stopautostep(c),stepcarousel.resetsettings($,c),stepcarousel.init(jQuery,c)},init:function(a,b){b.gallerywidth=b.$gallery.width(),b.offsets={left:stepcarousel.getoffset(b.$gallery.get(0),"offsetLeft"),top:stepcarousel.getoffset(b.$gallery.get(0),"offsetTop")},b.$belt=b.$gallery.find("."+b.beltclass),b.$panels=b.$gallery.find("."+b.panelclass),b.panelbehavior.wrapbehavior=b.panelbehavior.wrapbehavior||"pushpull",b.$paginatediv=a("#"+b.galleryid+"-paginate"),b.autostep&&(b.autostep.pause+=b.panelbehavior.speed),b.onpanelclick="undefined"==typeof b.onpanelclick?function(a){}:b.onpanelclick,b.onslideaction="undefined"==typeof b.onslide?function(){}:function(c){a(c).stop(),b.onslide()},b.oninit="undefined"==typeof b.oninit?function(){}:b.oninit,b.beltoffset=stepcarousel.getCSSValue(b.$belt.css("marginLeft")),b.statusvars=b.statusvars||[],b.$statusobjs=[a("#"+b.statusvars[0]),a("#"+b.statusvars[1]),a("#"+b.statusvars[2])],b.currentpanel=0,stepcarousel.configholder[b.galleryid]=b,"ajax"==b.contenttype[0]&&"undefined"!=typeof b.contenttype[1]?stepcarousel.getremotepanels(a,b):stepcarousel.alignpanels(a,b)},resetsettings:function(a,b){b.$gallery.unbind(),b.$belt.stop(),b.$panels.remove(),b.$leftnavbutton&&(b.$leftnavbutton.remove(),b.$rightnavbutton.remove()),1==b.$paginatediv.length&&(b.$paginatediv.unbind(),b.pageinfo.$controls.eq(0).attr("src",b.pageinfo.srcs[0]).removeAttr("data-index").removeAttr("data-moveto").removeAttr("title").end().slice(1).remove()),b.autostep&&(b.autostep.status=null),b.panelbehavior.persist&&stepcarousel.setCookie(window[b.galleryid+"persist"],0)},setup:function(a){jQuery(document).ready(function(b){a.$gallery=b("#"+a.galleryid),stepcarousel.init(b,a)}),jQuery(window).bind("unload",function(){stepcarousel.resetsettings($,a),a.panelbehavior.persist&&stepcarousel.setCookie(a.galleryid+"persist",a.currentpanel),jQuery.each(a,function(a,b){b=null}),a=null})}};